<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title>Forms Data Format Functions</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 </head>
 <body><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.fam-suspend-monitor.html">fam_suspend_monitor</a></div>
 <div class="next" style="float: right;"><a href="function.fdf-add-doc-javascript.html">fdf_add_doc_javascript</a></div>
 <div class="up"><a href="funcref.html">Function Reference</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div>
  <h1 class="title">Forms Data Format Functions</h1>
  

  <div class="partintro">

   <div id="fdf.intro" class="section">
   <h2 class="title">Introduction</h2>
   <p class="simpara">
    Forms Data Format (FDF) is a format for handling
    forms within PDF documents. You should read the documentation at 
    <a href="http://partners.adobe.com/asn/acrobat/forms.jsp" class="link external">&raquo; http://partners.adobe.com/asn/acrobat/forms.jsp</a>
    for more information on what FDF is and how it is used in general.
   </p>
   <p class="simpara">
    The general idea of FDF is similar to HTML forms. The difference is
    basically the format how data is transmitted to the server when the submit
    button is pressed (this is actually the Form Data Format) and the format
    of the form itself (which is the Portable Document Format, PDF).
    Processing the FDF data is one of the features provided by the fdf
    functions. But there is more.  One may as well take an existing PDF form
    and populated the input fields with data without modifying the form
    itself. In such a case one would create a FDF document
    (<a href="function.fdf-create.html" class="function">fdf_create()</a>) set the values of each input field
    (<a href="function.fdf-set-value.html" class="function">fdf_set_value()</a>) and associate it with a PDF form
    (<a href="function.fdf-set-file.html" class="function">fdf_set_file()</a>). Finally it has to be sent to the
    browser with MimeType <i class="literal">application/vnd.fdf</i>. The Acrobat
    reader plugin of your browser recognizes the MimeType,  reads the
    associated PDF form and fills in the data from the FDF document.
   </p>

   <p class="simpara">
    If you look at an FDF-document with a text editor you will find a
    catalogue object with the name <i class="literal">FDF</i>. Such an object may
    contain a number of entries like <i class="literal">Fields</i>,
    <i class="literal">F</i>, <i class="literal">Status</i> etc..
    The most commonly used entries are <i class="literal">Fields</i> which points
    to a list of input fields, and <i class="literal">F</i> which contains the
    filename of the PDF-document this data belongs to. Those entries are
    referred to in the FDF documentation as /F-Key or /Status-Key.
    Modifying this entries
    is done by functions like <a href="function.fdf-set-file.html" class="function">fdf_set_file()</a> and
    <a href="function.fdf-set-status.html" class="function">fdf_set_status()</a>. Fields are modified with
    <a href="function.fdf-set-value.html" class="function">fdf_set_value()</a>, <a href="function.fdf-set-opt.html" class="function">fdf_set_opt()</a> etc..
   </p>
   </div>

   <div id="fdf.requirements" class="section">
    <h2 class="title">Requirements</h2>
    <p class="para">
     You need the FDF toolkit SDK available from
     <a href="http://partners.adobe.com/asn/acrobat/forms.jsp" class="link external">&raquo; http://partners.adobe.com/asn/acrobat/forms.jsp</a>.
     As of PHP 4.3.0 you need at least SDK version 5.0. 
     The FDF toolkit library is available in binary form only,
     platforms supported by Adobe are Win32, Linux, Solaris and AIX.
    </p>
   </div>

   

<div id="fdf.installation" class="section">
 <h2 class="title">Installation</h2>
  <p class="simpara">
   You must compile PHP with
   <span class="option">--with-fdftk[=DIR]</span>.
  </p>
  <blockquote><p><b class="note">Note</b>: 
  <span class="simpara">
   If you run into problems configuring PHP with fdftk support, check
   whether the header file <var class="filename">fdftk.h</var> and the library 
   <var class="filename">libfdftk.so</var> are at the right place. 
   The configure script supports both the directory structure of the
   FDF SDK distribution and the usual <var class="filename">DIR/include</var> / 
   <var class="filename">DIR/lib</var> layout, so you can point it either 
   directly to the unpacked distribution directory or put the header 
   file and the appropriate library for your platform into e.g. 
   <var class="filename">/usr/local/include</var> and 
   <var class="filename">/usr/local/lib</var> and configure with 
   <span class="option">--with-fdftk=/usr/local</span>.
  </span>
 </p></blockquote>
 <blockquote><p><b class="note">Note</b>: 
  <b>Note to Win32 Users</b>
  
   In order for this extension to work, there are
<acronym title="Dynamic Link Library">DLL</acronym> files that must be available to the Windows
system <i class="literal">PATH</i>. See the <acronym>FAQ</acronym> titled &quot;<a href="faq.installation.html#faq.installation.addtopath" class="link">How do I add my PHP directory to the PATH
on Windows</a>&quot; for information on how to do this. Although copying DLL
files from the PHP folder into the Windows system directory also works
(because the system directory is by default in the systems
<i class="literal">PATH</i>), it is not recommended. 
<em class="emphasis">This extension requires the following files to be in the
<i class="literal">PATH</i>:</em> 
   <var class="filename">fdftk.dll</var>
  <br />
 </p></blockquote>
</div>




   <div id="fdf.configuration" class="section">
    <h2 class="title">Runtime Configuration</h2>
    <p class="para">This extension has no configuration directives defined in <var class="filename">php.ini</var>.</p>
   </div>

   <div id="fdf.resources" class="section">
    <h2 class="title">Resource Types</h2>
    <div id="fdf.resources.fdf" class="section">
     <h2 class="title">fdf</h2>
     <p class="para">
      Most fdf functions require a <i><tt class="parameter">fdf</tt></i>
 resource
      as their first parameter. A <i><tt class="parameter">fdf</tt></i>
 resource
      is a handle to an opened fdf file. <i><tt class="parameter">fdf</tt></i>

      resources may be obtained using <a href="function.fdf-create.html" class="function">fdf_create()</a>,
      <a href="function.fdf-open.html" class="function">fdf_open()</a> and <a href="function.fdf-open-string.html" class="function">fdf_open_string()</a>.
     </p>
    </div>
   </div>

   

<div id="fdf.constants" class="section">
 <h2 class="title">Predefined Constants</h2>
 <p class="simpara">
The constants below are defined by this extension, and
will only be available when the extension has either
been compiled into PHP or dynamically loaded at runtime.
</p>
 <dl>
 
  <dt>

   <span class="term">
    <b><tt>FDFValue</tt></b>
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFStatus</tt></b>
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFFile</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFID</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFFf</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFSetFf</tt></b>
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFClearFf</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFFlags</tt></b>
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFSetF</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFClrF</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFAP</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFAS</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFAction</tt></b>
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFAA</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFAPRef</tt></b>
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFIF</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFEnter</tt></b>
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFExit</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFDown</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFUp</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFFormat</tt></b>
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFValidate</tt></b>
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFKeystroke</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFCalculate</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFNormalAP</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFRolloverAP</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>FDFDownAP</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span> 
   <dd>
 
    <span class="simpara"> 

    </span>
   </dd>

  </dt>

 </dl>

</div>




   <div id="fdf.examples" class="section">
   <h2 class="title">Examples</h2>
    <p class="para">
     The following examples shows just the evaluation of form data.
     <div class="example">
      <p><b>Example#1 Evaluating a FDF document</b></p>
       <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Open&nbsp;fdf&nbsp;from&nbsp;input&nbsp;string&nbsp;provided&nbsp;by&nbsp;the&nbsp;extension<br />//&nbsp;The&nbsp;pdf&nbsp;form&nbsp;contained&nbsp;several&nbsp;input&nbsp;text&nbsp;fields&nbsp;with&nbsp;the&nbsp;names<br />//&nbsp;volume,&nbsp;date,&nbsp;comment,&nbsp;publisher,&nbsp;preparer,&nbsp;and&nbsp;two&nbsp;checkboxes<br />//&nbsp;show_publisher&nbsp;and&nbsp;show_preparer.<br /></span><span style="color: #0000BB">$fdf&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fdf_open_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$HTTP_FDF_DATA</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$volume&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fdf_get_value</span><span style="color: #007700">(</span><span style="color: #0000BB">$fdf</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"volume"</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">"The&nbsp;volume&nbsp;field&nbsp;has&nbsp;the&nbsp;value&nbsp;'&lt;b&gt;$volume&lt;/b&gt;'&lt;br&nbsp;/&gt;"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$date&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fdf_get_value</span><span style="color: #007700">(</span><span style="color: #0000BB">$fdf</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"date"</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">"The&nbsp;date&nbsp;field&nbsp;has&nbsp;the&nbsp;value&nbsp;'&lt;b&gt;$date&lt;/b&gt;'&lt;br&nbsp;/&gt;"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$comment&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fdf_get_value</span><span style="color: #007700">(</span><span style="color: #0000BB">$fdf</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"comment"</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">"The&nbsp;comment&nbsp;field&nbsp;has&nbsp;the&nbsp;value&nbsp;'&lt;b&gt;$comment&lt;/b&gt;'&lt;br&nbsp;/&gt;"</span><span style="color: #007700">;<br /><br />if&nbsp;(</span><span style="color: #0000BB">fdf_get_value</span><span style="color: #007700">(</span><span style="color: #0000BB">$fdf</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"show_publisher"</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #DD0000">"On"</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$publisher&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fdf_get_value</span><span style="color: #007700">(</span><span style="color: #0000BB">$fdf</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"publisher"</span><span style="color: #007700">);<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"The&nbsp;publisher&nbsp;field&nbsp;has&nbsp;the&nbsp;value&nbsp;'&lt;b&gt;$publisher&lt;/b&gt;'&lt;br&nbsp;/&gt;"</span><span style="color: #007700">;<br />}&nbsp;else<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Publisher&nbsp;shall&nbsp;not&nbsp;be&nbsp;shown.&lt;br&nbsp;/&gt;"</span><span style="color: #007700">;<br /><br />if&nbsp;(</span><span style="color: #0000BB">fdf_get_value</span><span style="color: #007700">(</span><span style="color: #0000BB">$fdf</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"show_preparer"</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #DD0000">"On"</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$preparer&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fdf_get_value</span><span style="color: #007700">(</span><span style="color: #0000BB">$fdf</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"preparer"</span><span style="color: #007700">);<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"The&nbsp;preparer&nbsp;field&nbsp;has&nbsp;the&nbsp;value&nbsp;'&lt;b&gt;$preparer&lt;/b&gt;'&lt;br&nbsp;/&gt;"</span><span style="color: #007700">;<br />}&nbsp;else<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Preparer&nbsp;shall&nbsp;not&nbsp;be&nbsp;shown.&lt;br&nbsp;/&gt;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">fdf_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$fdf</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
       </div>

     </div>
    </p>
   </div>
   
  </div>





















































































































































































































 <h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="function.fdf-add-doc-javascript.html">fdf_add_doc_javascript</a> — Adds javascript code to the FDF document</li><li><a href="function.fdf-add-template.html">fdf_add_template</a> — Adds a template into the FDF document</li><li><a href="function.fdf-close.html">fdf_close</a> — Close an FDF document</li><li><a href="function.fdf-create.html">fdf_create</a> — Create a new FDF document</li><li><a href="function.fdf-enum-values.html">fdf_enum_values</a> — Call a user defined function for each document value</li><li><a href="function.fdf-errno.html">fdf_errno</a> — Return error code for last fdf operation</li><li><a href="function.fdf-error.html">fdf_error</a> — Return error description for FDF error code</li><li><a href="function.fdf-get-ap.html">fdf_get_ap</a> — Get the appearance of a field</li><li><a href="function.fdf-get-attachment.html">fdf_get_attachment</a> — Extracts uploaded file embedded in the FDF</li><li><a href="function.fdf-get-encoding.html">fdf_get_encoding</a> — Get the value of the /Encoding key</li><li><a href="function.fdf-get-file.html">fdf_get_file</a> — Get the value of the /F key</li><li><a href="function.fdf-get-flags.html">fdf_get_flags</a> — Gets the flags of a field</li><li><a href="function.fdf-get-opt.html">fdf_get_opt</a> — Gets a value from the opt array of a field</li><li><a href="function.fdf-get-status.html">fdf_get_status</a> — Get the value of the /STATUS key</li><li><a href="function.fdf-get-value.html">fdf_get_value</a> — Get the value of a field</li><li><a href="function.fdf-get-version.html">fdf_get_version</a> — Gets version number for FDF API or file</li><li><a href="function.fdf-header.html">fdf_header</a> — Sets FDF-specific output headers</li><li><a href="function.fdf-next-field-name.html">fdf_next_field_name</a> — Get the next field name</li><li><a href="function.fdf-open-string.html">fdf_open_string</a> — Read a FDF document from a string</li><li><a href="function.fdf-open.html">fdf_open</a> — Open a FDF document</li><li><a href="function.fdf-remove-item.html">fdf_remove_item</a> — Sets target frame for form</li><li><a href="function.fdf-save-string.html">fdf_save_string</a> — Returns the FDF document as a string</li><li><a href="function.fdf-save.html">fdf_save</a> — Save a FDF document</li><li><a href="function.fdf-set-ap.html">fdf_set_ap</a> — Set the appearance of a field</li><li><a href="function.fdf-set-encoding.html">fdf_set_encoding</a> — Sets FDF character encoding</li><li><a href="function.fdf-set-file.html">fdf_set_file</a> — Set PDF document to display FDF data in</li><li><a href="function.fdf-set-flags.html">fdf_set_flags</a> — Sets a flag of a field</li><li><a href="function.fdf-set-javascript-action.html">fdf_set_javascript_action</a> — Sets an javascript action of a field</li><li><a href="function.fdf-set-on-import-javascript.html">fdf_set_on_import_javascript</a> — Adds javascript code to be executed when Acrobat opens the FDF</li><li><a href="function.fdf-set-opt.html">fdf_set_opt</a> — Sets an option of a field</li><li><a href="function.fdf-set-status.html">fdf_set_status</a> — Set the value of the /STATUS key</li><li><a href="function.fdf-set-submit-form-action.html">fdf_set_submit_form_action</a> — Sets a submit form action of a field</li><li><a href="function.fdf-set-target-frame.html">fdf_set_target_frame</a> — Set target frame for form display</li><li><a href="function.fdf-set-value.html">fdf_set_value</a> — Set the value of a field</li><li><a href="function.fdf-set-version.html">fdf_set_version</a> — Sets version number for a FDF file</li></ul>
</div>
<hr /><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.fam-suspend-monitor.html">fam_suspend_monitor</a></div>
 <div class="next" style="float: right;"><a href="function.fdf-add-doc-javascript.html">fdf_add_doc_javascript</a></div>
 <div class="up"><a href="funcref.html">Function Reference</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
