<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title>Regular Expression Functions (Perl-Compatible)</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 </head>
 <body><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.pcntl-wtermsig.html">pcntl_wtermsig</a></div>
 <div class="next" style="float: right;"><a href="reference.pcre.pattern.modifiers.html">Pattern Modifiers</a></div>
 <div class="up"><a href="funcref.html">Function Reference</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div>
  <h1 class="title">Regular Expression Functions (Perl-Compatible)</h1>
     

  <div class="partintro">
   <div id="pcre.intro" class="section">
    <h2 class="title">Introduction</h2>
    <p class="para">
     The syntax for patterns used in these functions closely resembles
     Perl. The expression should be enclosed in the delimiters, a
     forward slash (/), for example.  Any character can be used for
     delimiter as long as it&#039;s not alphanumeric or backslash (\). If
     the delimiter character has to be used in the expression itself,
     it needs to be escaped by backslash. Since PHP 4.0.4, you can also use
     Perl-style (), {}, [], and &lt;&gt; matching delimiters.
     See <a href="reference.pcre.pattern.syntax.html" class="link">Pattern Syntax</a>
     for detailed explanation.
    </p>
    <p class="para">
     The ending delimiter may be followed by various modifiers that
     affect the matching. 
     See <a href="reference.pcre.pattern.modifiers.html" class="link">Pattern
      Modifiers</a>.
    </p>
    <p class="para">
     PHP also supports regular expressions using a POSIX-extended syntax
     using the <a href="ref.regex.html" class="link">POSIX-extended regex functions</a>.
    </p>
    <blockquote><p><b class="note">Note</b>: 
     
      This extension maintains a global per-thread cache of compiled regular
      expressions (up to 4096).
     <br />
    </p></blockquote>
    <div class="warning"><b class="warning">Warning</b>
     <p class="para">
      You should be aware of some limitations of PCRE. Read <a href="http://www.pcre.org/pcre.txt" class="link external">&raquo; http://www.pcre.org/pcre.txt</a> for more info.
     </p>
    </div>
   </div>
   
   <div id="pcre.requirements" class="section">
    <h2 class="title">Requirements</h2>
    <p class="para">No external libraries are needed to build this extension.</p>
   </div>

   

<div id="pcre.installation" class="section">
 <h2 class="title">Installation</h2>
 <p class="para">
  Beginning with PHP 4.2.0 these functions are enabled by default. You can
  disable the pcre functions with
  <span class="option">--without-pcre-regex</span>. Use
  <span class="option"> --with-pcre-regex=DIR</span> to specify DIR
  where PCRE&#039;s include and library files are located, if not using bundled library.
  For older versions you have to configure and compile PHP 
  with <span class="option">--with-pcre-regex[=DIR]</span> in order
  to use these functions.
 </p>
 <p class="simpara"> The windows version of PHP has built in
support for this extension. You do not need to load any additional
extension in order to use these functions.</p>
</div>




   

<div id="pcre.configuration" class="section">
 <h2 class="title">Runtime Configuration</h2>
 <p class="simpara">
The behaviour of these functions is affected by settings in <var class="filename">php.ini</var>.
</p>
 <p class="para">
  <table border="5">
   <caption><b>PCRE Configuration Options</b></caption>
   <colgroup>

    <thead valign="middle">
     <tr valign="middle">
      <th colspan="1">Name</th>
      <th colspan="1">Default</th>
      <th colspan="1">Changeable</th>
      <th colspan="1">Changelog</th>
     </tr>

    </thead>

    <tbody valign="middle">
     <tr valign="middle">
      <td colspan="1" rowspan="1" align="left">pcre.backtrack_limit</td>
      <td colspan="1" rowspan="1" align="left">&quot;100000&quot;</td>
      <td colspan="1" rowspan="1" align="left">PHP_INI_ALL</td>
      <td colspan="1" rowspan="1" align="left">Available since PHP 5.2.0.</td>
     </tr>

     <tr valign="middle">
      <td colspan="1" rowspan="1" align="left">pcre.recursion_limit</td>
      <td colspan="1" rowspan="1" align="left">&quot;100000&quot;</td>
      <td colspan="1" rowspan="1" align="left">PHP_INI_ALL</td>
      <td colspan="1" rowspan="1" align="left">Available since PHP 5.2.0.</td>
     </tr>

    </tbody>
   </colgroup>

  </table>

  For further details and definitions of the 
PHP_INI_* constants, see the <a href="ini.html" class="xref">php.ini directives</a>.
 </p>

 <p class="para">Here&#039;s a short explanation of
the configuration directives.</p>

 <p class="para">
  <dl>

   <dt id="ini.pcre.backtrack-limit">
    <span class="term">
     <i><tt class="parameter">pcre.backtrack_limit</tt></i>

     <a href="language.types.integer.html" class="type integer">integer</a>
    </span>
    <dd>

     <p class="para">
      PCRE&#039;s backtracking limit.
     </p>
    </dd>

   </dt>

   <dt id="ini.pcre.recursion-limit">
    <span class="term">
     <i><tt class="parameter">pcre.recursion_limit</tt></i>

     <a href="language.types.integer.html" class="type integer">integer</a>
    </span>
    <dd>

     <p class="para">
      PCRE&#039;s recursion limit. Please note that if you set this value to a high
      number you may consume all the available process stack and eventually
      crash PHP (due to reaching the stack size limit imposed by the Operating
      System).
     </p>
    </dd>

   </dt>

  </dl>

 </p>

</div>




   <div id="pcre.resources" class="section">
    <h2 class="title">Resource Types</h2>
    <p class="para">This extension has no resource types defined.</p>
   </div>

   

<div id="pcre.constants" class="section">
 <h2 class="title">Predefined Constants</h2>
 <p class="simpara">
The constants below are defined by this extension, and
will only be available when the extension has either
been compiled into PHP or dynamically loaded at runtime.
</p>
 <table border="5">
  <caption><b>PREG constants</b></caption>
  <colgroup>

   <thead valign="middle">
    <tr valign="middle">
     <th colspan="1">constant</th>
     <th colspan="1">description</th>
    </tr>

   </thead>

   <tbody valign="middle">
    <tr valign="middle">
     <td colspan="1" rowspan="1" align="left"><b><tt>PREG_PATTERN_ORDER</tt></b></td>
     <td colspan="1" rowspan="1" align="left">
      Orders results so that $matches[0] is an array of full pattern
      matches, $matches[1] is an array of strings matched by the first
      parenthesized subpattern, and so on. This flag is only used with
      <a href="function.preg-match-all.html" class="function">preg_match_all()</a>.
     </td>
    </tr>

    <tr valign="middle">
     <td colspan="1" rowspan="1" align="left"><b><tt>PREG_SET_ORDER</tt></b></td>
     <td colspan="1" rowspan="1" align="left">
      Orders results so that $matches[0] is an array of first set of
      matches, $matches[1] is an array of second set of matches, and so
      on. This flag is only used with <a href="function.preg-match-all.html" class="function">preg_match_all()</a>.
     </td>
    </tr>

    <tr valign="middle">
     <td colspan="1" rowspan="1" align="left"><b><tt>PREG_OFFSET_CAPTURE</tt></b></td>
     <td colspan="1" rowspan="1" align="left">
      See the description of
      <b><tt>PREG_SPLIT_OFFSET_CAPTURE</tt></b>.  This flag is
      available since PHP 4.3.0.
     </td>
    </tr>

    <tr valign="middle">
     <td colspan="1" rowspan="1" align="left"><b><tt>PREG_SPLIT_NO_EMPTY</tt></b></td>
     <td colspan="1" rowspan="1" align="left">
      This flag tells <a href="function.preg-split.html" class="function">preg_split()</a> to return only non-empty
      pieces.
     </td>
    </tr>

    <tr valign="middle">
     <td colspan="1" rowspan="1" align="left"><b><tt>PREG_SPLIT_DELIM_CAPTURE</tt></b></td>
     <td colspan="1" rowspan="1" align="left">
      This flag tells <a href="function.preg-split.html" class="function">preg_split()</a> to capture
      parenthesized expression in the delimiter pattern as well. This flag
      is available since PHP 4.0.5.
     </td>
    </tr>

    <tr valign="middle">
     <td colspan="1" rowspan="1" align="left"><b><tt>PREG_SPLIT_OFFSET_CAPTURE</tt></b></td>
     <td colspan="1" rowspan="1" align="left">
      If this flag is set, for every occurring match the appendant string
      offset will also be returned. Note that this changes the return
      values in an array where every element is an array consisting of the
      matched string at offset 0 and its string offset within subject at
      offset 1. This flag is available since PHP 4.3.0
      and is only used for <a href="function.preg-split.html" class="function">preg_split()</a>.
     </td>
    </tr>

    <tr valign="middle">
     <td colspan="1" rowspan="1" align="left"><b><tt>PREG_NO_ERROR</tt></b></td>
     <td colspan="1" rowspan="1" align="left">
      Returned by <a href="function.preg-last-error.html" class="function">preg_last_error()</a> if there were no
      errors. Available since PHP 5.2.0.
     </td>
    </tr>

    <tr valign="middle">
     <td colspan="1" rowspan="1" align="left"><b><tt>PREG_INTERNAL_ERROR</tt></b></td>
     <td colspan="1" rowspan="1" align="left">
      Returned by <a href="function.preg-last-error.html" class="function">preg_last_error()</a> if there was an
      internal PCRE error. Available since PHP 5.2.0.
     </td>
    </tr>

    <tr valign="middle">
     <td colspan="1" rowspan="1" align="left"><b><tt>PREG_BACKTRACK_LIMIT_ERROR</tt></b></td>
     <td colspan="1" rowspan="1" align="left">
      Returned by <a href="function.preg-last-error.html" class="function">preg_last_error()</a> if <a href="ref.pcre.html#ini.pcre.backtrack-limit" class="link">backtrack limit</a> was exhausted.
      Available since PHP 5.2.0.
     </td>
    </tr>

    <tr valign="middle">
     <td colspan="1" rowspan="1" align="left"><b><tt>PREG_RECURSION_LIMIT_ERROR</tt></b></td>
     <td colspan="1" rowspan="1" align="left">
      Returned by <a href="function.preg-last-error.html" class="function">preg_last_error()</a> if <a href="ref.pcre.html#ini.pcre.recursion-limit" class="link">recursion limit</a> was exhausted.
      Available since PHP 5.2.0.
     </td>
    </tr>

    <tr valign="middle">
     <td colspan="1" rowspan="1" align="left"><b><tt>PREG_BAD_UTF8_ERROR</tt></b></td>
     <td colspan="1" rowspan="1" align="left">
      Returned by <a href="function.preg-last-error.html" class="function">preg_last_error()</a> if the last error was
      caused by malformed UTF-8 data (only when running a regex in <a href="reference.pcre.pattern.modifiers.html" class="link">UTF-8 mode</a>). Available
      since PHP 5.2.0.
     </td>
    </tr>

    <tr valign="middle">
     <td colspan="1" rowspan="1" align="left"><b><tt>PCRE_VERSION</tt></b></td>
     <td colspan="1" rowspan="1" align="left">
      PCRE version and release date (e.g. &quot;7.0 18-Dec-2006&quot;). Available since
      PHP 5.2.4.
     </td>
    </tr>

   </tbody>
  </colgroup>

 </table>

</div>




   <div id="pcre.examples" class="section">
    <h2 class="title">Examples</h2>
    <p class="para">
     <div class="example">
      <p><b>Example#1 Examples of valid patterns</b></p>
      <ul class="itemizedlist">
       <li class="listitem"><span class="simpara"><i class="literal">/&lt;\/\w+&gt;/</i></span></li>
       <li class="listitem"><span class="simpara"><i class="literal">|(\d{3})-\d+|Sm</i></span></li>
       <li class="listitem"><span class="simpara"><i class="literal">/^(?i)php[34]/</i></span></li>
       <li class="listitem"><span class="simpara"><i class="literal">{^\s+(\s+)?$}</i></span></li>
      </ul>
     </div>
    </p>
    <p class="para">
     <div class="example">
      <p><b>Example#2 Examples of invalid patterns</b></p>
      <ul class="itemizedlist">
       <li class="listitem">
        <span class="simpara">
         <i class="literal">/href=&#039;(.*)&#039;</i> - missing ending delimiter
        </span>
       </li>
       <li class="listitem">
        <span class="simpara">
         <i class="literal">/\w+\s*\w+/J</i> - unknown modifier &#039;J&#039;
        </span>
       </li>
       <li class="listitem">
        <span class="simpara">
         <i class="literal">1-\d3-\d3-\d4|</i> - missing starting delimiter
        </span>
       </li>
      </ul>
     </div>
    </p>
   </div>
  </div>











  





















































<h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="reference.pcre.pattern.modifiers.html">Pattern Modifiers</a> — Describes possible modifiers in regex
   patterns</li><li><a href="reference.pcre.pattern.syntax.html">Pattern Syntax</a> — Describes PCRE regex syntax</li><li><a href="function.preg-grep.html">preg_grep</a> — Return array entries that match the pattern</li><li><a href="function.preg-last-error.html">preg_last_error</a> — Returns the error code of the last PCRE regex execution</li><li><a href="function.preg-match-all.html">preg_match_all</a> — Perform a global regular expression match</li><li><a href="function.preg-match.html">preg_match</a> — Perform a regular expression match</li><li><a href="function.preg-quote.html">preg_quote</a> — Quote regular expression characters</li><li><a href="function.preg-replace-callback.html">preg_replace_callback</a> — Perform a regular expression search and replace using a callback</li><li><a href="function.preg-replace.html">preg_replace</a> — Perform a regular expression search and replace</li><li><a href="function.preg-split.html">preg_split</a> — Split string by a regular expression</li></ul>
</div>
<hr /><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.pcntl-wtermsig.html">pcntl_wtermsig</a></div>
 <div class="next" style="float: right;"><a href="reference.pcre.pattern.modifiers.html">Pattern Modifiers</a></div>
 <div class="up"><a href="funcref.html">Function Reference</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
