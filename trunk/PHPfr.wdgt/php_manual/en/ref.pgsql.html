<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title>PostgreSQL Functions</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 </head>
 <body><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.sql-regcase.html">sql_regcase</a></div>
 <div class="next" style="float: right;"><a href="function.pg-affected-rows.html">pg_affected_rows</a></div>
 <div class="up"><a href="funcref.html">Function Reference</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div>
 <h1 class="title">PostgreSQL Functions</h1>
 

 <div class="partintro">
  <div id="pgsql.intro" class="section">
   <h2 class="title">Introduction</h2>
   <p class="para">
    PostgreSQL database is Open Source product and available without
    cost. Postgres, developed originally in the UC Berkeley Computer
    Science Department, pioneered many of the object-relational concepts
    now becoming available in some commercial databases. It provides
    SQL92/SQL99 language support, transactions, referential integrity,
    stored procedures and type extensibility. PostgreSQL is an open source
    descendant of this original Berkeley code.
   </p>
  </div>

  <div id="pgsql.requirements" class="section">
   <h2 class="title">Requirements</h2>
   <p class="para">
    To use PostgreSQL support, you need PostgreSQL 6.5 or
    later, PostgreSQL 8.0 or later to enable all PostgreSQL module
    features. PostgreSQL supports many character encodings including
    multibyte character encoding. The current version and more
    information about PostgreSQL is available at 
    <a href="http://www.postgresql.org/" class="link external">&raquo; http://www.postgresql.org/</a> and
    the <a href="http://www.postgresql.org/docs/current/interactive/" class="link external">&raquo; PostgreSQL Documentation</a>.
   </p>
  </div>

  

<div id="pgsql.installation" class="section">
 <h2 class="title">Installation</h2>
 <p class="para">
  In order to enable PostgreSQL support,
  <span class="option">--with-pgsql[=DIR]</span> is required when you compile
  PHP. DIR is the PostgreSQL base install directory, defaults to
  <var class="filename">/usr/local/pgsql</var>. If shared object module is
  available, PostgreSQL module may be loaded using
  <a href="ini.core.html#ini.extension" class="link">extension</a> directive in <var class="filename">php.ini</var> or
  <a href="function.dl.html" class="function">dl()</a>
  function.
 </p> 
</div>





  

<div id="pgsql.configuration" class="section">
 <h2 class="title">Runtime Configuration</h2>
 <p class="simpara">
The behaviour of these functions is affected by settings in <var class="filename">php.ini</var>.
</p>
 <p class="para">
 <table border="5">
  <caption><b>PostgreSQL configuration options</b></caption>
  <colgroup>

   <thead valign="middle">
    <tr valign="middle">
     <th colspan="1">Name</th>
     <th colspan="1">Default</th>
     <th colspan="1">Changeable</th>
     <th colspan="1">Changelog</th>
    </tr>

   </thead>

   <tbody valign="middle">
    <tr valign="middle">
     <td colspan="1" rowspan="1" align="left">pgsql.allow_persistent</td>
     <td colspan="1" rowspan="1" align="left">&quot;1&quot;</td>
     <td colspan="1" rowspan="1" align="left">PHP_INI_SYSTEM</td>
     <td class="empty">&nbsp;</td>
    </tr>

    <tr valign="middle">
     <td colspan="1" rowspan="1" align="left">pgsql.max_persistent</td>
     <td colspan="1" rowspan="1" align="left">&quot;-1&quot;</td>
     <td colspan="1" rowspan="1" align="left">PHP_INI_SYSTEM</td>
     <td class="empty">&nbsp;</td>
    </tr>

    <tr valign="middle">
     <td colspan="1" rowspan="1" align="left">pgsql.max_links</td>
     <td colspan="1" rowspan="1" align="left">&quot;-1&quot;</td>
     <td colspan="1" rowspan="1" align="left">PHP_INI_SYSTEM</td>
     <td class="empty">&nbsp;</td>
    </tr>

    <tr valign="middle">
     <td colspan="1" rowspan="1" align="left">pgsql.auto_reset_persistent</td>
     <td colspan="1" rowspan="1" align="left">&quot;0&quot;</td>
     <td colspan="1" rowspan="1" align="left">PHP_INI_SYSTEM</td>
     <td colspan="1" rowspan="1" align="left">Available since PHP 4.2.0.</td>
    </tr>

    <tr valign="middle">
     <td colspan="1" rowspan="1" align="left">pgsql.ignore_notice</td>
     <td colspan="1" rowspan="1" align="left">&quot;0&quot;</td>
     <td colspan="1" rowspan="1" align="left">PHP_INI_ALL</td>
     <td colspan="1" rowspan="1" align="left">Available since PHP 4.3.0.</td>
    </tr>

    <tr valign="middle">
     <td colspan="1" rowspan="1" align="left">pgsql.log_notice</td>
     <td colspan="1" rowspan="1" align="left">&quot;0&quot;</td>
     <td colspan="1" rowspan="1" align="left">PHP_INI_ALL</td>
     <td colspan="1" rowspan="1" align="left">Available since PHP 4.3.0.</td>
    </tr>

   </tbody>
  </colgroup>

 </table>

  For further details and definitions of the 
PHP_INI_* constants, see the <a href="ini.html" class="xref">php.ini directives</a>.
  </p>
  
  <p class="para">Here&#039;s a short explanation of
the configuration directives.</p>
  
  <p class="para">
  <dl>

   
   <dt id="ini.pgsql.allow-persistent">
    <span class="term">
     <i><tt class="parameter">pgsql.allow_persistent</tt></i>

     <a href="language.types.boolean.html" class="type boolean">boolean</a>
    </span>
    <dd>

     <p class="para">
      Whether to allow persistent Postgres connections.
     </p>
    </dd>

   </dt>

   
   <dt id="ini.pgsql.max-persistent">
    <span class="term">
     <i><tt class="parameter">pgsql.max_persistent</tt></i>

     <a href="language.types.integer.html" class="type integer">integer</a>
    </span>
    <dd>

     <p class="para">
      The maximum number of persistent Postgres connections per
      process.
     </p>
    </dd>

   </dt>

   
   <dt id="ini.pgsql.max-links">
    <span class="term">
     <i><tt class="parameter">pgsql.max_links</tt></i>

     <a href="language.types.integer.html" class="type integer">integer</a>
    </span>
    <dd>

     <p class="para">
      The maximum number of Postgres connections per process,
      including persistent connections.
     </p>
    </dd>

   </dt>

   
   <dt id="ini.pgsql.auto-reset-persistent">
    <span class="term">
     <i><tt class="parameter">pgsql.auto_reset_persistent</tt></i>

     <a href="language.types.integer.html" class="type integer">integer</a>
    </span>
    <dd>

     <p class="para">
      Detect broken persistent links with <a href="function.pg-pconnect.html" class="function">pg_pconnect()</a>.
      Needs a little overhead. 
     </p>
    </dd>

   </dt>


   <dt id="ini.pgsql.ignore-notice">
    <span class="term">
     <i><tt class="parameter">pgsql.ignore_notice</tt></i>

     <a href="language.types.integer.html" class="type integer">integer</a>
    </span>
    <dd>

     <p class="para">
      Whether or not to ignore PostgreSQL backend notices.
     </p>
    </dd>

   </dt>


   <dt id="ini.pgsql.log-notice">
    <span class="term">
     <i><tt class="parameter">pgsql.log_notice</tt></i>

     <a href="language.types.integer.html" class="type integer">integer</a>
    </span>
    <dd>

     <p class="para">
      Whether or not to log PostgreSQL backends notice messages.  The PHP
      directive <a href="ref.pgsql.html#ini.pgsql.ignore-notice" class="link">
      pgsql.ignore_notice</a> must be off in order to log notice
      messages.
     </p>
    </dd>

   </dt>


  </dl>

 </p>

</div>





  <div id="pgsql.resources" class="section">
  <h2 class="title">Resource Types</h2>
   <p class="para">
    There are two resource types used in the PostgreSQL module. The first one
    is the link identifier for a database connection, the second a resource
    which holds the result of a query.
   </p>
  </div>

  

<div id="pgsql.constants" class="section">
 <h2 class="title">Predefined Constants</h2>
 <p class="simpara">
The constants below are defined by this extension, and
will only be available when the extension has either
been compiled into PHP or dynamically loaded at runtime.
</p>
 
 <dl>

  <dt>

   <span class="term">
    <b><tt>PGSQL_ASSOC</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
      Passed to <a href="function.pg-fetch-array.html" class="function">pg_fetch_array()</a>. Return an associative array of field
      names and values.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_NUM</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
      Passed to <a href="function.pg-fetch-array.html" class="function">pg_fetch_array()</a>. Return a numerically indexed array of field
      numbers and values.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_BOTH</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
      Passed to <a href="function.pg-fetch-array.html" class="function">pg_fetch_array()</a>. Return an array of field values
      that is both numerically indexed (by field number) and associated (by field name).
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_CONNECT_FORCE_NEW</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
      Passed to <a href="function.pg-connect.html" class="function">pg_connect()</a> to force the creation of a new connection,
      rather then re-using an existing identical connection.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_CONNECTION_BAD</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
      Returned by <a href="function.pg-connection-status.html" class="function">pg_connection_status()</a> indicating that the database
      connection is in an invalid state.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_CONNECTION_OK</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
      Returned by <a href="function.pg-connection-status.html" class="function">pg_connection_status()</a> indicating that the database
      connection is in a valid state.     
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_SEEK_SET</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Passed to <a href="function.pg-lo-seek.html" class="function">pg_lo_seek()</a>. Seek operation is to begin
     from the start of the object.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_SEEK_CUR</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Passed to <a href="function.pg-lo-seek.html" class="function">pg_lo_seek()</a>. Seek operation is to begin
     from the current position.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_SEEK_END</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Passed to <a href="function.pg-lo-seek.html" class="function">pg_lo_seek()</a>. Seek operation is to begin
     from the end of the object.     
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_EMPTY_QUERY</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Returned by <a href="function.pg-result-status.html" class="function">pg_result_status()</a>. The string sent to the server
     was empty.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_COMMAND_OK</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Returned by <a href="function.pg-result-status.html" class="function">pg_result_status()</a>. Successful completion of a 
     command returning no data.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_TUPLES_OK</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Returned by <a href="function.pg-result-status.html" class="function">pg_result_status()</a>. Successful completion of a command 
     returning data (such as a <i class="literal">SELECT</i> or <i class="literal">SHOW</i>).
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_COPY_OUT</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Returned by <a href="function.pg-result-status.html" class="function">pg_result_status()</a>. Copy Out (from server) data 
     transfer started.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_COPY_IN</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Returned by <a href="function.pg-result-status.html" class="function">pg_result_status()</a>. Copy In (to server) data 
     transfer started.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_BAD_RESPONSE</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Returned by <a href="function.pg-result-status.html" class="function">pg_result_status()</a>. The server&#039;s response 
     was not understood.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_NONFATAL_ERROR</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Returned by <a href="function.pg-result-status.html" class="function">pg_result_status()</a>. A nonfatal error 
     (a notice or warning) occurred.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_FATAL_ERROR</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Returned by <a href="function.pg-result-status.html" class="function">pg_result_status()</a>. A fatal error 
     occurred.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_TRANSACTION_IDLE</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Returned by <a href="function.pg-transaction-status.html" class="function">pg_transaction_status()</a>. Connection is
     currently idle, not in a transaction.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_TRANSACTION_ACTIVE</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Returned by <a href="function.pg-transaction-status.html" class="function">pg_transaction_status()</a>. A command
     is in progress on the connection.  A query has been sent via the connection
     and not yet completed.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_TRANSACTION_INTRANS</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Returned by <a href="function.pg-transaction-status.html" class="function">pg_transaction_status()</a>. The connection
     is idle, in a transaction block.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_TRANSACTION_INERROR</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Returned by <a href="function.pg-transaction-status.html" class="function">pg_transaction_status()</a>. The connection
     is idle, in a failed transaction block.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_TRANSACTION_UNKNOWN</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Returned by <a href="function.pg-transaction-status.html" class="function">pg_transaction_status()</a>. The connection
     is bad.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_DIAG_SEVERITY</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Passed to <a href="function.pg-result-error-field.html" class="function">pg_result_error_field()</a>.
     The severity; the field contents are <i class="literal">ERROR</i>, 
     <i class="literal">FATAL</i>, or <i class="literal">PANIC</i> (in an error message), or 
     <i class="literal">WARNING</i>, <i class="literal">NOTICE</i>, <i class="literal">DEBUG</i>, 
     <i class="literal">INFO</i>, or <i class="literal">LOG</i> (in a notice message), or a localized 
     translation of one of these. Always present.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_DIAG_SQLSTATE</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Passed to <a href="function.pg-result-error-field.html" class="function">pg_result_error_field()</a>.
     The SQLSTATE code for the error. The SQLSTATE code identifies the type of error 
     that has occurred; it can be used by front-end applications to perform specific 
     operations (such as error handling) in response to a particular database error. 
     This field is not localizable, and is always present.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_DIAG_MESSAGE_PRIMARY</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Passed to <a href="function.pg-result-error-field.html" class="function">pg_result_error_field()</a>.
     The primary human-readable error message (typically one line). Always present.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_DIAG_MESSAGE_DETAIL</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Passed to <a href="function.pg-result-error-field.html" class="function">pg_result_error_field()</a>.
     Detail: an optional secondary error message carrying more detail about the problem. May run to multiple lines.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_DIAG_MESSAGE_HINT</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Passed to <a href="function.pg-result-error-field.html" class="function">pg_result_error_field()</a>.
     Hint: an optional suggestion what to do about the problem. This is intended to differ from detail in that it
     offers advice (potentially inappropriate) rather than hard facts. May run to multiple lines.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_DIAG_STATEMENT_POSITION</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Passed to <a href="function.pg-result-error-field.html" class="function">pg_result_error_field()</a>.
     A string containing a decimal integer indicating an error cursor position as an index into the original 
     statement string. The first character has index 1, and positions are measured in characters not bytes.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_DIAG_INTERNAL_POSITION</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Passed to <a href="function.pg-result-error-field.html" class="function">pg_result_error_field()</a>.
     This is defined the same as the <b><tt>PG_DIAG_STATEMENT_POSITION</tt></b> field, but 
     it is used when the cursor position refers to an internally generated 
     command rather than the one submitted by the client. The 
     <b><tt>PG_DIAG_INTERNAL_QUERY</tt></b> field will always appear when this 
     field appears.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_DIAG_INTERNAL_QUERY</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Passed to <a href="function.pg-result-error-field.html" class="function">pg_result_error_field()</a>.
     The text of a failed internally-generated command. This could be, for example, a 
     SQL query issued by a PL/pgSQL function.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_DIAG_CONTEXT</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Passed to <a href="function.pg-result-error-field.html" class="function">pg_result_error_field()</a>.
     An indication of the context in which the error occurred. Presently 
     this includes a call stack traceback of active procedural language 
     functions and internally-generated queries. The trace is one entry 
     per line, most recent first.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_DIAG_SOURCE_FILE</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Passed to <a href="function.pg-result-error-field.html" class="function">pg_result_error_field()</a>.
     The file name of the PostgreSQL source-code location where the error 
     was reported.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_DIAG_SOURCE_LINE</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Passed to <a href="function.pg-result-error-field.html" class="function">pg_result_error_field()</a>.
     The line number of the PostgreSQL source-code location where the 
     error was reported.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_DIAG_SOURCE_FUNCTION</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Passed to <a href="function.pg-result-error-field.html" class="function">pg_result_error_field()</a>.
     The name of the PostgreSQL source-code function reporting the error.
    </span>
   </dd>

  </dt>


  <dt>

   <span class="term">
    <b><tt>PGSQL_ERRORS_TERSE</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Passed to <a href="function.pg-set-error-verbosity.html" class="function">pg_set_error_verbosity()</a>.
     Specified that returned messages include severity, primary text, 
     and position only; this will normally fit on a single line.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_ERRORS_DEFAULT</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Passed to <a href="function.pg-set-error-verbosity.html" class="function">pg_set_error_verbosity()</a>.
     The default mode produces messages that include the above 
     plus any detail, hint, or context fields (these may span 
     multiple lines).
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_ERRORS_VERBOSE</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Passed to <a href="function.pg-set-error-verbosity.html" class="function">pg_set_error_verbosity()</a>.
     The verbose mode includes all available fields.
    </span>
   </dd>

  </dt>


  <dt>

   <span class="term">
    <b><tt>PGSQL_STATUS_LONG</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Passed to <a href="function.pg-result-status.html" class="function">pg_result_status()</a>.  Indicates that
     numerical result code is desired.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_STATUS_STRING</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Passed to <a href="function.pg-result-status.html" class="function">pg_result_status()</a>.  Indicates that
     textual result command tag is desired.
    </span>
   </dd>

  </dt>


  <dt>

   <span class="term">
    <b><tt>PGSQL_CONV_IGNORE_DEFAULT</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Passed to <a href="function.pg-convert.html" class="function">pg_convert()</a>.
     Ignore default values in the table during conversion.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_CONV_FORCE_NULL</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Passed to <a href="function.pg-convert.html" class="function">pg_convert()</a>.
     Use SQL <i class="literal">NULL</i> in place of an empty <a href="language.types.string.html" class="type string">string</a>.
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>PGSQL_CONV_IGNORE_DEFAULT</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     Passed to <a href="function.pg-convert.html" class="function">pg_convert()</a>.
     Ignore conversion of <b><tt>NULL</tt></b> into SQL <i class="literal">NOT NULL</i> columns.
    </span>
   </dd>

  </dt>


 </dl>

</div>




  <div id="pgsql.notes" class="section">
  <h2 class="title">Notes</h2>
   <blockquote><p><b class="note">Note</b>: 
    
     Not all functions are supported by all builds. It depends on your
     libpq (The PostgreSQL C client library) version and how libpq is
     compiled. If PHP PostgreSQL extensions are missing, then it is because
     your libpq version does not support them. 
    <br />
   </p></blockquote>  
   <blockquote><p><b class="note">Note</b>: 
    
     Most PostgreSQL functions accept <i><tt class="parameter">connection</tt></i>
 as
     the first optional parameter. If it is not provided, the last opened
     connection is used. If it doesn&#039;t exist, functions return <b><tt>FALSE</tt></b>.
    <br />
   </p></blockquote>
   <blockquote><p><b class="note">Note</b>: 
    
     PostgreSQL automatically folds all identifiers (e.g. table/column names)
     to lower-case values at object creation time and at query time. 
     To force the use of mixed or upper case identifiers, you must escape
     the identifier using double quotes (&quot;&quot;).
    <br />
   </p></blockquote>
   <blockquote><p><b class="note">Note</b>: 
    
     PostgreSQL does not have special commands for fetching database schema
     information (eg. all the tables in the current database).  Instead, there
     is a standard schema named <i class="literal">information_schema</i> in
     PostgreSQL 7.4 and above containing
     system views with all the necessary information, in an easily
     queryable form.  See the <a href="http://www.postgresql.org/docs/current/interactive/" class="link external">&raquo; PostgreSQL Documentation</a>
     for full details.  
    <br />
   </p></blockquote>
  </div>

  <div id="pgsql.examples" class="section">
   <h2 class="title">Examples</h2>
    <p class="para">
     This simple example shows how to connect, execute a query, print
     resulting rows and disconnect from a PostgreSQL database.
     <div class="example">
      <p><b>Example#1 PostgreSQL extension overview example</b></p>
      <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Connecting,&nbsp;selecting&nbsp;database<br /></span><span style="color: #0000BB">$dbconn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pg_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">"host=localhost&nbsp;dbname=publishing&nbsp;user=www&nbsp;password=foo"</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;die(</span><span style="color: #DD0000">'Could&nbsp;not&nbsp;connect:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">pg_last_error</span><span style="color: #007700">());<br /><br /></span><span style="color: #FF8000">//&nbsp;Performing&nbsp;SQL&nbsp;query<br /></span><span style="color: #0000BB">$query&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SELECT&nbsp;*&nbsp;FROM&nbsp;authors'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pg_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$query</span><span style="color: #007700">)&nbsp;or&nbsp;die(</span><span style="color: #DD0000">'Query&nbsp;failed:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">pg_last_error</span><span style="color: #007700">());<br /><br /></span><span style="color: #FF8000">//&nbsp;Printing&nbsp;results&nbsp;in&nbsp;HTML<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"&lt;table&gt;\n"</span><span style="color: #007700">;<br />while&nbsp;(</span><span style="color: #0000BB">$line&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pg_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PGSQL_ASSOC</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"\t&lt;tr&gt;\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$line&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$col_value</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"\t\t&lt;td&gt;$col_value&lt;/td&gt;\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"\t&lt;/tr&gt;\n"</span><span style="color: #007700">;<br />}<br />echo&nbsp;</span><span style="color: #DD0000">"&lt;/table&gt;\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Free&nbsp;resultset<br /></span><span style="color: #0000BB">pg_free_result</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Closing&nbsp;connection<br /></span><span style="color: #0000BB">pg_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbconn</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

     </div>
    </p>
   </div>
 </div>



























































































































































































































































































































































































































































































































































































<h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="function.pg-affected-rows.html">pg_affected_rows</a> — Returns number of affected records (tuples)</li><li><a href="function.pg-cancel-query.html">pg_cancel_query</a> — Cancel an asynchronous query</li><li><a href="function.pg-client-encoding.html">pg_client_encoding</a> — Gets the client encoding</li><li><a href="function.pg-close.html">pg_close</a> — Closes a PostgreSQL connection</li><li><a href="function.pg-connect.html">pg_connect</a> — Open a PostgreSQL connection</li><li><a href="function.pg-connection-busy.html">pg_connection_busy</a> — Get connection is busy or not</li><li><a href="function.pg-connection-reset.html">pg_connection_reset</a> — Reset connection (reconnect)</li><li><a href="function.pg-connection-status.html">pg_connection_status</a> — Get connection status</li><li><a href="function.pg-convert.html">pg_convert</a> — Convert associative array values into suitable for SQL statement</li><li><a href="function.pg-copy-from.html">pg_copy_from</a> — Insert records into a table from an array</li><li><a href="function.pg-copy-to.html">pg_copy_to</a> — Copy a table to an array</li><li><a href="function.pg-dbname.html">pg_dbname</a> — Get the database name</li><li><a href="function.pg-delete.html">pg_delete</a> — Deletes records</li><li><a href="function.pg-end-copy.html">pg_end_copy</a> — Sync with PostgreSQL backend</li><li><a href="function.pg-escape-bytea.html">pg_escape_bytea</a> — Escape a string for insertion into a bytea field</li><li><a href="function.pg-escape-string.html">pg_escape_string</a> — Escape a string for insertion into a text field</li><li><a href="function.pg-execute.html">pg_execute</a> — Sends a request to execute a prepared statement with given parameters, and waits for the result.</li><li><a href="function.pg-fetch-all-columns.html">pg_fetch_all_columns</a> — Fetches all rows in a particular result column as an array</li><li><a href="function.pg-fetch-all.html">pg_fetch_all</a> — Fetches all rows from a result as an array</li><li><a href="function.pg-fetch-array.html">pg_fetch_array</a> — Fetch a row as an array</li><li><a href="function.pg-fetch-assoc.html">pg_fetch_assoc</a> — Fetch a row as an associative array</li><li><a href="function.pg-fetch-object.html">pg_fetch_object</a> — Fetch a row as an object</li><li><a href="function.pg-fetch-result.html">pg_fetch_result</a> — Returns values from a result resource</li><li><a href="function.pg-fetch-row.html">pg_fetch_row</a> — Get a row as an enumerated array</li><li><a href="function.pg-field-is-null.html">pg_field_is_null</a> — Test if a field is SQL NULL</li><li><a href="function.pg-field-name.html">pg_field_name</a> — Returns the name of a field</li><li><a href="function.pg-field-num.html">pg_field_num</a> — Returns the field number of the named field</li><li><a href="function.pg-field-prtlen.html">pg_field_prtlen</a> — Returns the printed length</li><li><a href="function.pg-field-size.html">pg_field_size</a> — Returns the internal storage size of the named field</li><li><a href="function.pg-field-table.html">pg_field_table</a> — Returns the name or oid of the tables field</li><li><a href="function.pg-field-type-oid.html">pg_field_type_oid</a> — Returns the type ID (OID) for the corresponding field number</li><li><a href="function.pg-field-type.html">pg_field_type</a> — Returns the type name for the corresponding field number</li><li><a href="function.pg-free-result.html">pg_free_result</a> — Free result memory</li><li><a href="function.pg-get-notify.html">pg_get_notify</a> — Gets SQL NOTIFY message</li><li><a href="function.pg-get-pid.html">pg_get_pid</a> — Gets the backend's process ID</li><li><a href="function.pg-get-result.html">pg_get_result</a> — Get asynchronous query result</li><li><a href="function.pg-host.html">pg_host</a> — Returns the host name associated with the connection</li><li><a href="function.pg-insert.html">pg_insert</a> — Insert array into table</li><li><a href="function.pg-last-error.html">pg_last_error</a> — Get the last error message string of a connection</li><li><a href="function.pg-last-notice.html">pg_last_notice</a> — Returns the last notice message from PostgreSQL server</li><li><a href="function.pg-last-oid.html">pg_last_oid</a> — Returns the last row's OID</li><li><a href="function.pg-lo-close.html">pg_lo_close</a> — Close a large object</li><li><a href="function.pg-lo-create.html">pg_lo_create</a> — Create a large object</li><li><a href="function.pg-lo-export.html">pg_lo_export</a> — Export a large object to file</li><li><a href="function.pg-lo-import.html">pg_lo_import</a> — Import a large object from file</li><li><a href="function.pg-lo-open.html">pg_lo_open</a> — Open a large object</li><li><a href="function.pg-lo-read-all.html">pg_lo_read_all</a> — Reads an entire large object and send straight to browser</li><li><a href="function.pg-lo-read.html">pg_lo_read</a> — Read a large object</li><li><a href="function.pg-lo-seek.html">pg_lo_seek</a> — Seeks position within a large object</li><li><a href="function.pg-lo-tell.html">pg_lo_tell</a> — Returns current seek position a of large object</li><li><a href="function.pg-lo-unlink.html">pg_lo_unlink</a> — Delete a large object</li><li><a href="function.pg-lo-write.html">pg_lo_write</a> — Write to a large object</li><li><a href="function.pg-meta-data.html">pg_meta_data</a> — Get meta data for table</li><li><a href="function.pg-num-fields.html">pg_num_fields</a> — Returns the number of fields in a result</li><li><a href="function.pg-num-rows.html">pg_num_rows</a> — Returns the number of rows in a result</li><li><a href="function.pg-options.html">pg_options</a> — Get the options associated with the connection</li><li><a href="function.pg-parameter-status.html">pg_parameter_status</a> — Looks up a current parameter setting of the server.</li><li><a href="function.pg-pconnect.html">pg_pconnect</a> — Open a persistent PostgreSQL connection</li><li><a href="function.pg-ping.html">pg_ping</a> — Ping database connection</li><li><a href="function.pg-port.html">pg_port</a> — Return the port number associated with the connection</li><li><a href="function.pg-prepare.html">pg_prepare</a> — Submits a request to create a prepared statement with the 
  given parameters, and waits for completion.</li><li><a href="function.pg-put-line.html">pg_put_line</a> — Send a NULL-terminated string to PostgreSQL backend</li><li><a href="function.pg-query-params.html">pg_query_params</a> — Submits a command to the server and waits for the result, with the ability to pass parameters separately from the SQL command text.</li><li><a href="function.pg-query.html">pg_query</a> — Execute a query</li><li><a href="function.pg-result-error-field.html">pg_result_error_field</a> — Returns an individual field of an error report.</li><li><a href="function.pg-result-error.html">pg_result_error</a> — Get error message associated with result</li><li><a href="function.pg-result-seek.html">pg_result_seek</a> — Set internal row offset in result resource</li><li><a href="function.pg-result-status.html">pg_result_status</a> — Get status of query result</li><li><a href="function.pg-select.html">pg_select</a> — Select records</li><li><a href="function.pg-send-execute.html">pg_send_execute</a> — Sends a request to execute a prepared statement with given parameters, without waiting for the result(s).</li><li><a href="function.pg-send-prepare.html">pg_send_prepare</a> — Sends a request to create a prepared statement with the given parameters, without waiting for completion.</li><li><a href="function.pg-send-query-params.html">pg_send_query_params</a> — Submits a command and separate parameters to the server without waiting for the result(s).</li><li><a href="function.pg-send-query.html">pg_send_query</a> — Sends asynchronous query</li><li><a href="function.pg-set-client-encoding.html">pg_set_client_encoding</a> — Set the client encoding</li><li><a href="function.pg-set-error-verbosity.html">pg_set_error_verbosity</a> — Determines the verbosity of messages returned by pg_last_error 
   and pg_result_error.</li><li><a href="function.pg-trace.html">pg_trace</a> — Enable tracing a PostgreSQL connection</li><li><a href="function.pg-transaction-status.html">pg_transaction_status</a> — Returns the current in-transaction status of the server.</li><li><a href="function.pg-tty.html">pg_tty</a> — Return the TTY name associated with the connection</li><li><a href="function.pg-unescape-bytea.html">pg_unescape_bytea</a> — Unescape binary for bytea type</li><li><a href="function.pg-untrace.html">pg_untrace</a> — Disable tracing of a PostgreSQL connection</li><li><a href="function.pg-update.html">pg_update</a> — Update table</li><li><a href="function.pg-version.html">pg_version</a> — Returns an array with client, protocol and server version (when available)</li></ul>
</div>
<hr /><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.sql-regcase.html">sql_regcase</a></div>
 <div class="next" style="float: right;"><a href="function.pg-affected-rows.html">pg_affected_rows</a></div>
 <div class="up"><a href="funcref.html">Function Reference</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
