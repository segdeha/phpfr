<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title>mSQL Functions</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 </head>
 <body><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.msession-unlock.html">msession_unlock</a></div>
 <div class="next" style="float: right;"><a href="function.msql-affected-rows.html">msql_affected_rows</a></div>
 <div class="up"><a href="funcref.html">Function Reference</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div>
  <h1 class="title">mSQL Functions</h1>
  
  <div class="partintro">

   <div id="msql.intro" class="section">
   <h2 class="title">Introduction</h2>
   <p class="para">
    These functions allow you to access mSQL database servers. More
    information about mSQL can be found at
    <a href="http://www.hughes.com.au/" class="link external">&raquo; http://www.hughes.com.au/</a>.
   </p>
   </div>

   

<div id="msql.installation" class="section">
 <h2 class="title">Installation</h2>
 <p class="para">
  In order to have these functions available, you must compile PHP with
  msql support by using the
  <span class="option">--with-msql[=DIR]</span> option. DIR is the mSQL
  base install directory, defaults to <var class="filename">/usr/local/msql3</var>.
 </p>
 <blockquote><p><b class="note">Note</b>: 
  <b>Note to Win32 Users</b>
  
   In order for this extension to work, there are
<acronym title="Dynamic Link Library">DLL</acronym> files that must be available to the Windows
system <i class="literal">PATH</i>. See the <acronym>FAQ</acronym> titled &quot;<a href="faq.installation.html#faq.installation.addtopath" class="link">How do I add my PHP directory to the PATH
on Windows</a>&quot; for information on how to do this. Although copying DLL
files from the PHP folder into the Windows system directory also works
(because the system directory is by default in the systems
<i class="literal">PATH</i>), it is not recommended. 
<em class="emphasis">This extension requires the following files to be in the
<i class="literal">PATH</i>:</em> 
   <var class="filename">msql.dll</var>
  <br />
 </p></blockquote>
</div>




   

<div id="msql.configuration" class="section">
 <h2 class="title">Runtime Configuration</h2>
 <p class="simpara">
The behaviour of these functions is affected by settings in <var class="filename">php.ini</var>.
</p>
 <p class="para">
 <table border="5">
  <caption><b>mSQL configuration options</b></caption>
  <colgroup>

   <thead valign="middle">
    <tr valign="middle">
     <th colspan="1">Name</th>
     <th colspan="1">Default</th>
     <th colspan="1">Changeable</th>
     <th colspan="1">Changelog</th>
    </tr>

   </thead>

   <tbody valign="middle">
    <tr valign="middle">
     <td colspan="1" rowspan="1" align="left">msql.allow_persistent</td>
     <td colspan="1" rowspan="1" align="left">&quot;1&quot;</td>
     <td colspan="1" rowspan="1" align="left">PHP_INI_ALL</td>
     <td class="empty">&nbsp;</td>
    </tr>

    <tr valign="middle">
     <td colspan="1" rowspan="1" align="left">msql.max_persistent</td>
     <td colspan="1" rowspan="1" align="left">&quot;-1&quot;</td>
     <td colspan="1" rowspan="1" align="left">PHP_INI_ALL</td>
     <td class="empty">&nbsp;</td>
    </tr>

    <tr valign="middle">
     <td colspan="1" rowspan="1" align="left">msql.max_links</td>
     <td colspan="1" rowspan="1" align="left">&quot;-1&quot;</td>
     <td colspan="1" rowspan="1" align="left">PHP_INI_ALL</td>
     <td class="empty">&nbsp;</td>
    </tr>

   </tbody>
  </colgroup>

 </table>

 For further details and definitions of the 
PHP_INI_* constants, see the <a href="ini.html" class="xref">php.ini directives</a>.
 </p>
 
 <p class="para">Here&#039;s a short explanation of
the configuration directives.</p>
 
 <p class="para">
  <dl>

   <dt id="ini.msql.allow-persistent">
    <span class="term">
     <i><tt class="parameter">msql.allow_persistent</tt></i>

     <a href="language.types.boolean.html" class="type boolean">boolean</a>
    </span>
    <dd>

     <p class="para">
      Whether to allow persistent mSQL connections.
     </p>
    </dd>

   </dt>

     
   <dt id="ini.msql.max-persistent">
    <span class="term">
     <i><tt class="parameter">msql.max_persistent</tt></i>

     <a href="language.types.integer.html" class="type integer">integer</a>
    </span>
    <dd>

     <p class="para">
      The maximum number of persistent mSQL connections per process.
     </p>
    </dd>

   </dt>

     
   <dt id="ini.msql.max-links">
    <span class="term">
     <i><tt class="parameter">msql.max_links</tt></i>

     <a href="language.types.integer.html" class="type integer">integer</a>
    </span>
    <dd>

     <p class="para">
      The maximum number of mSQL connections per process, including
      persistent connections.
     </p>
    </dd>

   </dt>

     
  </dl>

 </p>
</div>


   <div id="msql.resources" class="section">
    <h2 class="title">Resource Types</h2>
    <p class="para">
     There are two resource types used in the mSQL module. The first one
     is the link identifier for a database connection, the second a resource
     which holds the result of a query.
    </p>
   </div>

   

<div id="msql.constants" class="section">
 <h2 class="title">Predefined Constants</h2>
 <p class="simpara">
The constants below are defined by this extension, and
will only be available when the extension has either
been compiled into PHP or dynamically loaded at runtime.
</p>
 <dl>

  <dt>

   <span class="term">
    <b><tt>MSQL_ASSOC</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>MSQL_NUM</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     
    </span>
   </dd>

  </dt>

  <dt>

   <span class="term">
    <b><tt>MSQL_BOTH</tt></b> 
    (<a href="language.types.integer.html" class="type integer">integer</a>)
   </span>
   <dd>

    <span class="simpara">
     
    </span>
   </dd>

  </dt>

 </dl>

</div>




   <div id="msql.examples" class="section">
   <h2 class="title">Examples</h2>
    <p class="para">
     This simple example shows how to connect, execute a query, print
     resulting rows and disconnect from a mSQL database.
     <div class="example">
      <p><b>Example#1 mSQL usage example</b></p>
      <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/*&nbsp;Connecting,&nbsp;selecting&nbsp;database&nbsp;*/<br /></span><span style="color: #0000BB">$link&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">msql_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'username'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'password'</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;die(</span><span style="color: #DD0000">'Could&nbsp;not&nbsp;connect&nbsp;:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">msql_error</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">));<br /><br /></span><span style="color: #0000BB">msql_select_db</span><span style="color: #007700">(</span><span style="color: #DD0000">'database'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$link</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;die(</span><span style="color: #DD0000">'Could&nbsp;not&nbsp;select&nbsp;database'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Issue&nbsp;SQL&nbsp;query&nbsp;*/<br /></span><span style="color: #0000BB">$query&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SELECT&nbsp;*&nbsp;FROM&nbsp;my_table'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">msql_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$query</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$link</span><span style="color: #007700">)&nbsp;or&nbsp;die(</span><span style="color: #DD0000">'Query&nbsp;failed&nbsp;:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">msql_error</span><span style="color: #007700">());<br /><br /></span><span style="color: #FF8000">/*&nbsp;Printing&nbsp;results&nbsp;in&nbsp;HTML&nbsp;*/<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"&lt;table&gt;\n"</span><span style="color: #007700">;<br />while&nbsp;(</span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">msql_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">MSQL_ASSOC</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"\t&lt;tr&gt;\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$col_value</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"\t\t&lt;td&gt;$col_value&lt;/td&gt;\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"\t&lt;/tr&gt;\n"</span><span style="color: #007700">;<br />}<br />echo&nbsp;</span><span style="color: #DD0000">"&lt;/table&gt;\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;Free&nbsp;result&nbsp;set&nbsp;*/<br /></span><span style="color: #0000BB">msql_free_result</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Close&nbsp;connection&nbsp;*/<br /></span><span style="color: #0000BB">msql_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

     </div>
    </p>
   </div>

  </div>



















































































































































































































































 <h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="function.msql-affected-rows.html">msql_affected_rows</a> — Returns number of affected rows</li><li><a href="function.msql-close.html">msql_close</a> — Close mSQL connection</li><li><a href="function.msql-connect.html">msql_connect</a> — Open mSQL connection</li><li><a href="function.msql-create-db.html">msql_create_db</a> — Create mSQL database</li><li><a href="function.msql-createdb.html">msql_createdb</a> — Alias of msql_create_db</li><li><a href="function.msql-data-seek.html">msql_data_seek</a> — Move internal row pointer</li><li><a href="function.msql-db-query.html">msql_db_query</a> — Send mSQL query</li><li><a href="function.msql-dbname.html">msql_dbname</a> — Alias of msql_result</li><li><a href="function.msql-drop-db.html">msql_drop_db</a> — Drop (delete) mSQL database</li><li><a href="function.msql-error.html">msql_error</a> — Returns error message of last msql call</li><li><a href="function.msql-fetch-array.html">msql_fetch_array</a> — Fetch row as array</li><li><a href="function.msql-fetch-field.html">msql_fetch_field</a> — Get field information</li><li><a href="function.msql-fetch-object.html">msql_fetch_object</a> — Fetch row as object</li><li><a href="function.msql-fetch-row.html">msql_fetch_row</a> — Get row as enumerated array</li><li><a href="function.msql-field-flags.html">msql_field_flags</a> — Get field flags</li><li><a href="function.msql-field-len.html">msql_field_len</a> — Get field length</li><li><a href="function.msql-field-name.html">msql_field_name</a> — Get the name of the specified field in a result</li><li><a href="function.msql-field-seek.html">msql_field_seek</a> — Set field offset</li><li><a href="function.msql-field-table.html">msql_field_table</a> — Get table name for field</li><li><a href="function.msql-field-type.html">msql_field_type</a> — Get field type</li><li><a href="function.msql-fieldflags.html">msql_fieldflags</a> — Alias of msql_field_flags</li><li><a href="function.msql-fieldlen.html">msql_fieldlen</a> — Alias of msql_field_len</li><li><a href="function.msql-fieldname.html">msql_fieldname</a> — Alias of msql_field_name</li><li><a href="function.msql-fieldtable.html">msql_fieldtable</a> — Alias of msql_field_table</li><li><a href="function.msql-fieldtype.html">msql_fieldtype</a> — Alias of msql_field_type</li><li><a href="function.msql-free-result.html">msql_free_result</a> — Free result memory</li><li><a href="function.msql-list-dbs.html">msql_list_dbs</a> — List mSQL databases on server</li><li><a href="function.msql-list-fields.html">msql_list_fields</a> — List result fields</li><li><a href="function.msql-list-tables.html">msql_list_tables</a> — List tables in an mSQL database</li><li><a href="function.msql-num-fields.html">msql_num_fields</a> — Get number of fields in result</li><li><a href="function.msql-num-rows.html">msql_num_rows</a> — Get number of rows in result</li><li><a href="function.msql-numfields.html">msql_numfields</a> — Alias of msql_num_fields</li><li><a href="function.msql-numrows.html">msql_numrows</a> — Alias of msql_num_rows</li><li><a href="function.msql-pconnect.html">msql_pconnect</a> — Open persistent mSQL connection</li><li><a href="function.msql-query.html">msql_query</a> — Send mSQL query</li><li><a href="function.msql-regcase.html">msql_regcase</a> — Alias of sql_regcase</li><li><a href="function.msql-result.html">msql_result</a> — Get result data</li><li><a href="function.msql-select-db.html">msql_select_db</a> — Select mSQL database</li><li><a href="function.msql-tablename.html">msql_tablename</a> — Alias of msql_result</li><li><a href="function.msql.html">msql</a> — Alias of msql_db_query</li></ul>
</div>
<hr /><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.msession-unlock.html">msession_unlock</a></div>
 <div class="next" style="float: right;"><a href="function.msql-affected-rows.html">msql_affected_rows</a></div>
 <div class="up"><a href="funcref.html">Function Reference</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
