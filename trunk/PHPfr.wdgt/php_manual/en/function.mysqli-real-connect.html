<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title>Opens a connection to a mysql server</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 </head>
 <body><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.mysqli-query.html">mysqli_query</a></div>
 <div class="next" style="float: right;"><a href="function.mysqli-real-escape-string.html">mysqli_real_escape_string</a></div>
 <div class="up"><a href="ref.mysqli.html">mysqli</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.mysqli-real-connect" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">mysqli_real_connect</h1>
  <h1 class="refname">mysqli-&gt;real_connect()</h1>
  <p class="verinfo">(PHP 5)</p><p class="refpurpose">mysqli->real_connect() â€” Opens a connection to a mysql server</p>

 </div>

 <div class="refsect1 description">
  <h3 class="title">Description</h3>
  <p class="para">Procedural style</p>
  <div class="methodsynopsis">
   <span class="type">bool</span> <span class="methodname"><b><b>mysqli_real_connect</b></b></span>
    ( <span class="methodparam"><span class="type">mysqli</span> <tt class="parameter">$link</tt></span>
   [, <span class="methodparam"><span class="type">string</span> <tt class="parameter">$host</tt></span>
   [, <span class="methodparam"><span class="type">string</span> <tt class="parameter">$username</tt></span>
   [, <span class="methodparam"><span class="type">string</span> <tt class="parameter">$passwd</tt></span>
   [, <span class="methodparam"><span class="type">string</span> <tt class="parameter">$dbname</tt></span>
   [, <span class="methodparam"><span class="type">int</span> <tt class="parameter">$port</tt></span>
   [, <span class="methodparam"><span class="type">string</span> <tt class="parameter">$socket</tt></span>
   [, <span class="methodparam"><span class="type">int</span> <tt class="parameter">$flags</tt></span>
  ]]]]]]] )</div>

  <p class="para">Object oriented style (method)</p>
  <div class="classsynopsis">
   <div class="ooclass"><b class="classname">mysqli</b></div>
   <div class="methodsynopsis">
    <span class="type">bool</span> <span class="methodname"><b><b>real_connect</b></b></span>
     ([ <span class="methodparam"><span class="type">string</span> <tt class="parameter">$host</tt></span>
    [, <span class="methodparam"><span class="type">string</span> <tt class="parameter">$username</tt></span>
    [, <span class="methodparam"><span class="type">string</span> <tt class="parameter">$passwd</tt></span>
    [, <span class="methodparam"><span class="type">string</span> <tt class="parameter">$dbname</tt></span>
    [, <span class="methodparam"><span class="type">int</span> <tt class="parameter">$port</tt></span>
    [, <span class="methodparam"><span class="type">string</span> <tt class="parameter">$socket</tt></span>
    [, <span class="methodparam"><span class="type">int</span> <tt class="parameter">$flags</tt></span>
   ]]]]]]] )</div>

  </div>
  <p class="para">
   Establish a connection to a MySQL database engine.
  </p>
  <p class="para">
   This function differs from <a href="function.mysqli-connect.html" class="function">mysqli_connect()</a>:
  </p>
  <ul class="itemizedlist">
   <li class="listitem">
    <p class="para">
     <b>mysqli_real_connect()</b> needs a valid object which has
     to be created by function <a href="function.mysqli-init.html" class="function">mysqli_init()</a>.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     With function <a href="function.mysqli-options.html" class="function">mysqli_options()</a> you can set various
     options for connection.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     There is a <i><tt class="parameter">flags</tt></i>
 parameter.
    </p>
   </li>
  </ul>
 </div>


 <div class="refsect1 parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>
<span class="term"><i><tt class="parameter">
link</tt></i>
</span><dd>
<p class="para">Procedural style only: A link identifier
returned by <a href="function.mysqli-connect.html" class="function">mysqli_connect()</a> or <a href="function.mysqli-init.html" class="function">mysqli_init()</a>
</p></dd>
</dt>

    <dt>

     <span class="term"><i><tt class="parameter">host</tt></i>
</span>
     <dd>

      <p class="para">
       Can be either a host name or an IP address. Passing the <b><tt>NULL</tt></b> value
       or the string &quot;localhost&quot; to this parameter, the local host is
       assumed. When possible, pipes will be used instead of the TCP/IP
       protocol.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">username</tt></i>
</span>
     <dd>

      <p class="para">
       The MySQL user name.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">passwd</tt></i>
</span>
     <dd>

      <p class="para">
       If provided or <b><tt>NULL</tt></b>, the MySQL server will attempt to authenticate
       the user against those user records which have no password only. This
       allows one username to be used with different permissions (depending
       on if a password as provided or not).
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">dbname</tt></i>
</span>
     <dd>

      <p class="para">
       If provided will specify the default database to be used when
       performing queries.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">port</tt></i>
</span>
     <dd>

      <p class="para">
       Specifies the port number to attempt to connect to the MySQL server.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">socket</tt></i>
</span>
     <dd>

      <p class="para">
       Specifies the socket or named pipe that should be used.
      </p>
      <blockquote><p><b class="note">Note</b>: 
       
        Specifying the <i><tt class="parameter">socket</tt></i>
 parameter will not
        explicitly determine the type of connection to be used when
        connecting to the MySQL server. How the connection is made to the
        MySQL database is determined by the <i><tt class="parameter">host</tt></i>

        parameter.
       <br />
      </p></blockquote>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">flags</tt></i>
</span>
     <dd>

      <p class="para">
       With the parameter <i><tt class="parameter">flags</tt></i>
 you can set different
       connection options:
      </p>
      <table border="5">
       <caption><b>Supported flags</b></caption>
       <colgroup>

       <thead valign="middle">
        <tr valign="middle">
         <th colspan="1">Name</th>
         <th colspan="1">Description</th>
        </tr>

       </thead>

       <tbody valign="middle">
        <tr valign="middle">
         <td colspan="1" rowspan="1" align="left"><b><tt>MYSQLI_CLIENT_COMPRESS</tt></b></td>
         <td colspan="1" rowspan="1" align="left">Use compression protocol</td>
        </tr>

        <tr valign="middle">
         <td colspan="1" rowspan="1" align="left"><b><tt>MYSQLI_CLIENT_FOUND_ROWS</tt></b></td>
         <td colspan="1" rowspan="1" align="left">return number of matched rows, not the number of affected rows</td>
        </tr>

        <tr valign="middle">
         <td colspan="1" rowspan="1" align="left"><b><tt>MYSQLI_CLIENT_IGNORE_SPACE</tt></b></td>
         <td colspan="1" rowspan="1" align="left">Allow spaces after function names. Makes all function names reserved words.</td>
        </tr>

        <tr valign="middle">
         <td colspan="1" rowspan="1" align="left"><b><tt>MYSQLI_CLIENT_INTERACTIVE</tt></b></td>
         <td colspan="1" rowspan="1" align="left">
          Allow <i class="literal">interactive_timeout</i> seconds (instead of
          <i class="literal">wait_timeout</i> seconds) of inactivity before closing the connection
         </td>
        </tr>

        <tr valign="middle">
         <td colspan="1" rowspan="1" align="left"><b><tt>MYSQLI_CLIENT_SSL</tt></b></td>
         <td colspan="1" rowspan="1" align="left">Use SSL (encryption)</td>
        </tr>

        </tbody>
       </colgroup>

      </table>

      <blockquote><p><b class="note">Note</b>: 
       
        For security reasons the <b><tt>MULTI_STATEMENT</tt></b> flag is
        not supported in PHP. If you want to execute multiple queries use the
        <a href="function.mysqli-multi-query.html" class="function">mysqli_multi_query()</a> function.
       <br />
      </p></blockquote>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns <b><tt>TRUE</tt></b> on success or <b><tt>FALSE</tt></b> on failure.
  </p>
 </div>


 <div class="refsect1 examples">
  <h3 class="title">Examples</h3>
  <div class="example">
   <p><b>Example#1 Object oriented style</b></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #FF8000">/*&nbsp;create&nbsp;a&nbsp;connection&nbsp;object&nbsp;which&nbsp;is&nbsp;not&nbsp;connected&nbsp;*/<br /></span><span style="color: #0000BB">$mysqli&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mysqli_init</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">/*&nbsp;set&nbsp;connection&nbsp;options&nbsp;*/<br /></span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">options</span><span style="color: #007700">(</span><span style="color: #0000BB">MYSQLI_INIT_COMMAND</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"SET&nbsp;AUTOCOMMIT=0"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">options</span><span style="color: #007700">(</span><span style="color: #0000BB">MYSQLI_OPT_CONNECT_TIMEOUT</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;connect&nbsp;to&nbsp;server&nbsp;*/<br /></span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">real_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'my_user'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'my_password'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'world'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;check&nbsp;connection&nbsp;*/<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">mysqli_connect_errno</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Connect&nbsp;failed:&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">mysqli_connect_error</span><span style="color: #007700">());<br />&nbsp;&nbsp;&nbsp;&nbsp;exit();<br />}<br /><br /></span><span style="color: #0000BB">printf&nbsp;</span><span style="color: #007700">(</span><span style="color: #DD0000">"Connection:&nbsp;%s\n."</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">host_info</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">close</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <div class="example">
   <p><b>Example#2 Procedural style</b></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #FF8000">/*&nbsp;create&nbsp;a&nbsp;connection&nbsp;object&nbsp;which&nbsp;is&nbsp;not&nbsp;connected&nbsp;*/<br /></span><span style="color: #0000BB">$link&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mysqli_init</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">/*&nbsp;set&nbsp;connection&nbsp;options&nbsp;*/<br /></span><span style="color: #0000BB">mysqli_options</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">MYSQLI_INIT_COMMAND</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"SET&nbsp;AUTOCOMMIT=0"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">mysqli_options</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">MYSQLI_OPT_CONNECT_TIMEOUT</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;connect&nbsp;to&nbsp;server&nbsp;*/<br /></span><span style="color: #0000BB">mysqli_real_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'my_user'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'my_password'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'world'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;check&nbsp;connection&nbsp;*/<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">mysqli_connect_errno</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Connect&nbsp;failed:&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">mysqli_connect_error</span><span style="color: #007700">());<br />&nbsp;&nbsp;&nbsp;&nbsp;exit();<br />}<br /><br /></span><span style="color: #0000BB">printf&nbsp;</span><span style="color: #007700">(</span><span style="color: #DD0000">"Connection:&nbsp;%s\n."</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">mysqli_get_host_info</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">));<br /><br /></span><span style="color: #0000BB">mysqli_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <p class="para">The above example will output:</p>
  <div class="example-contents"><pre>
<div class="cdata"><pre>
Connection: Localhost via UNIX socket

</pre></div>
  </pre></div>
 </div>


 <div class="refsect1 seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><a href="function.mysqli-connect.html" class="function">mysqli_connect()</a></li>
    <li class="member"><a href="function.mysqli-init.html" class="function">mysqli_init()</a></li>
    <li class="member"><a href="function.mysqli-options.html" class="function">mysqli_options()</a></li>
    <li class="member"><a href="function.mysqli-ssl-set.html" class="function">mysqli_ssl_set()</a></li>
    <li class="member"><a href="function.mysqli-close.html" class="function">mysqli_close()</a></li>
   </ul>
  </p>
 </div>


</div><hr /><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.mysqli-query.html">mysqli_query</a></div>
 <div class="next" style="float: right;"><a href="function.mysqli-real-escape-string.html">mysqli_real_escape_string</a></div>
 <div class="up"><a href="ref.mysqli.html">mysqli</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
