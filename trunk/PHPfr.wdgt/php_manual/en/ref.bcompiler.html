<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title>PHP bytecode Compiler</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 </head>
 <body><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.bcsub.html">bcsub</a></div>
 <div class="next" style="float: right;"><a href="function.bcompiler-load-exe.html">bcompiler_load_exe</a></div>
 <div class="up"><a href="funcref.html">Function Reference</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div>
  <h1 class="title">PHP bytecode Compiler</h1>
  

  <div class="partintro">
   <div id="bcompiler.intro" class="section">
   <h2 class="title">Introduction</h2>
   <div class="warning"><b class="warning">Warning</b><p class="simpara">This extension is
<em class="emphasis">EXPERIMENTAL</em>. The behaviour of this extension --
including the names of its functions and anything else documented
about this extension -- may change without notice in a future release of PHP. 
Use this extension at your own risk.</p></div>
    <p class="para">
     Bcompiler was written for several reasons:
     <ul class="simplelist">
      <li class="member">To encode entire script in a proprietary PHP application</li>
      <li class="member">To encode some classes and/or functions in a proprietary PHP application</li>
      <li class="member">
       To enable the production of php-gtk applications that could be used on
       client desktops, without the need for a php.exe.
      </li>
      <li class="member">To do the feasibility study for a PHP to C converter</li>
     </ul>
     The first of these goals is achieved using the
     <a href="function.bcompiler-write-header.html" class="function">bcompiler_write_header()</a>,
     <a href="function.bcompiler-write-file.html" class="function">bcompiler_write_file()</a> and
     <a href="function.bcompiler-write-footer.html" class="function">bcompiler_write_footer()</a>
     functions. The bytecode files can
     be written as either uncompressed or plain. 
     To use the generated bytecode, you can simply include it 
     with include or require statements.
    </p>
    <p class="para">
     The second of these goals is achieved using the
     <a href="function.bcompiler-write-header.html" class="function">bcompiler_write_header()</a>,
     <a href="function.bcompiler-write-class.html" class="function">bcompiler_write_class()</a>,
     <a href="function.bcompiler-write-footer.html" class="function">bcompiler_write_footer()</a>,
     <a href="function.bcompiler-read.html" class="function">bcompiler_read()</a>,
     and <a href="function.bcompiler-load.html" class="function">bcompiler_load()</a> functions. The bytecode files can
     be written as either uncompressed or plain. The
     <a href="function.bcompiler-load.html" class="function">bcompiler_load()</a> reads a bzip compressed bytecode file,
     which tends to be 1/3 of the size of the original file.
    </p>
    <p class="para">
     To create EXE type files, bcompiler has to be used with a modified sapi
     file or a version of PHP which has been compiled as a shared library. In
     this scenario, bcompiler reads the compressed bytecode from the end of the
     exe file.
    </p>
    <p class="para">
     bcompiler can improve performance by about 30% when used with uncompressed
     bytecodes only. But keep in mind that uncompressed bytecode can be up
     to 5 times larger than the original source code. Using bytecode
     compression can save your space, but decompression requires much more
     time than parsing a source. bcompiler also does not do any bytecode
     optimization, this could be added in the future...
    </p>
    <p class="para">
     In terms of code protection, it is safe to say that it would be impossible
     to recreate the exact source code that it was built from, and without the
     accompanying source code comments. It would effectively be useless to use
     the bcompiler bytecodes to recreate and modify a class. However it is
     possible to retrieve data from a bcompiled bytecode file - so don&#039;t put
     your private passwords or anything in it.
    </p>
   </div>

   

<div id="bcompiler.installation" class="section">
 <h2 class="title">Installation</h2>
 <p class="para">
  short installation note:
  <ul class="itemizedlist">
   <li class="listitem">
    <span class="simpara">You need at least PHP 4.3.0 for the compression to work</span>
   </li>
   <li class="listitem">
    <span class="simpara">
     To install on PHP 4.3.0 and later at the Unix command prompt type
     <strong class="command">pear install bcompiler</strong>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     To install on Windows, until the binary package distribution
     mechanism is finished please search the archives of the pear-general
     mailing list for pre-built packages. (or send an email to it if you could
     not find a reference)
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     To install on older versions you need to make some slight changes to the
     build.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     untar the <var class="filename">bcompiler.tgz</var> archive into
     <var class="filename">php4/ext</var>.(Get it directly from
     PECL <a href="http://pecl.php.net/get/bcompiler" class="link external">&raquo; http://pecl.php.net/get/bcompiler</a>)
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     If the new directory is now called something like bcompiler-0.x, then you
     should rename it to bcompiler (except you only want to build it as
     self-contained php-module).
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     If you are using versions before PHP 4.3.0, the you will need to copy the
     <var class="filename">Makefile.in.old</var> to <var class="filename">Makefile.in</var>
     and <var class="filename">config.m4.old</var> to <var class="filename">config.m4</var>.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     run <strong class="command">phpize</strong> in <var class="filename">
     ext/bcompiler</var>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     run <strong class="command">./buildconf</strong> in <var class="filename">php4
     </var>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     run <strong class="command">configure</strong> with <span class="option">
     --enable-bcompiler</span> (and your other options)
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <strong class="command">make; make install</strong>
    </span>
   </li>
   <li class="listitem"><span class="simpara">that&#039;s it.</span></li>
  </ul>
 </p>
</div>




   <div id="bcompiler.contact" class="section">
   <h2 class="title">Contact Information</h2>
    <p class="para">
     If you have comments, bugfixes, enhancements or want to help
     developing this beast, you can drop me a mail at  <a href="mailto:alan_k@php.net" class="link external">&raquo; alan_k@php.net</a>. Any help is very
     welcome.
    </p>
   </div>

  </div>

















































































 <h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="function.bcompiler-load-exe.html">bcompiler_load_exe</a> — Reads and creates classes from a bcompiler exe file</li><li><a href="function.bcompiler-load.html">bcompiler_load</a> — Reads and creates classes from a bz compressed file</li><li><a href="function.bcompiler-parse-class.html">bcompiler_parse_class</a> — Reads the bytecodes of a class and calls back to a user function</li><li><a href="function.bcompiler-read.html">bcompiler_read</a> — Reads and creates classes from a filehandle</li><li><a href="function.bcompiler-write-class.html">bcompiler_write_class</a> — Writes an defined class as bytecodes</li><li><a href="function.bcompiler-write-constant.html">bcompiler_write_constant</a> — Writes a defined constant as bytecodes</li><li><a href="function.bcompiler-write-exe-footer.html">bcompiler_write_exe_footer</a> — Writes the start pos, and sig to the end of a exe type file</li><li><a href="function.bcompiler-write-file.html">bcompiler_write_file</a> — Writes a php source file as bytecodes</li><li><a href="function.bcompiler-write-footer.html">bcompiler_write_footer</a> — Writes the single character \x00 to indicate End of compiled data</li><li><a href="function.bcompiler-write-function.html">bcompiler_write_function</a> — Writes an defined function as bytecodes</li><li><a href="function.bcompiler-write-functions-from-file.html">bcompiler_write_functions_from_file</a> — Writes all functions defined in a file as bytecodes</li><li><a href="function.bcompiler-write-header.html">bcompiler_write_header</a> — Writes the bcompiler header</li><li><a href="function.bcompiler-write-included-filename.html">bcompiler_write_included_filename</a> — Writes an included file as bytecodes</li></ul>
</div>
<hr /><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.bcsub.html">bcsub</a></div>
 <div class="next" style="float: right;"><a href="function.bcompiler-load-exe.html">bcompiler_load_exe</a></div>
 <div class="up"><a href="funcref.html">Function Reference</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
